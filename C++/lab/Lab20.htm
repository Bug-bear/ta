<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./Lab20_files/filelist.xml">
<title>Lab worksheet</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Jen Pedler</o:Author>
  <o:Template>Lab.dot</o:Template>
  <o:LastAuthor>rajesh pampapathi</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>377</o:TotalTime>
  <o:LastPrinted>2003-12-03T14:26:00Z</o:LastPrinted>
  <o:Created>2004-01-19T16:25:00Z</o:Created>
  <o:LastSaved>2004-01-19T16:25:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>296</o:Words>
  <o:Characters>1689</o:Characters>
  <o:Company>Birkbeck College</o:Company>
  <o:Lines>14</o:Lines>
  <o:Paragraphs>3</o:Paragraphs>
  <o:CharactersWithSpaces>2074</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:Compatibility>
   <w:FootnoteLayoutLikeWW8/>
   <w:ShapeLayoutLikeWW8/>
   <w:AlignTablesRowByRow/>
   <w:ForgetLastTabAlignment/>
   <w:LayoutRawTableWidth/>
   <w:LayoutTableRowsApart/>
  </w:Compatibility>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:EN-US;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	tab-stops:center 216.0pt right 432.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:EN-US;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	tab-stops:center 216.0pt right 432.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:EN-US;}
span.code
	{mso-style-name:code;
	mso-ansi-font-size:10.0pt;
	mso-ascii-font-family:"Courier New";
	mso-hansi-font-family:"Courier New";
	mso-ansi-language:EN-GB;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:36.0pt;
	mso-footer-margin:36.0pt;
	mso-header:url("./Lab20_files/header.htm") h1;
	mso-footer:url("./Lab20_files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:1825856476;
	mso-list-type:hybrid;
	mso-list-template-ids:-982984868 -1353560744 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-GB style='tab-interval:36.0pt'>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><b style='mso-bidi-font-weight:
normal'><span style='font-family:Arial;mso-bidi-font-family:"Times New Roman";
mso-ansi-language:EN-GB'>Lab worksheet 20<o:p></o:p></span></b></p>

<p>
<strong>1.</strong> Write a <code>Myvec</code> class whose only data item is a <code>vector&lt;int&gt;</code>.
The constructor takes a filename and fills the vector with values from that file.  If it cannot open the file,
it throws an exception. If the input file contains bad (non-integer) data, it throws a different exception.
(You will need to write exception classes for these.) Make the whole of <code>main</code> your <code>try</code> block.
The first <code>catch</code> clause should output a message - "<em>filename</em> not found" - and the second should output
"Bad data:" followed by the offending line. Both should terminate the program.
<p>
<strong>2.</strong> The following class definition is for a Bivec class (downloadable from <code>N:\C++\bivec.cpp</code>).
A Bivec object is like a vector (here simply of integers but in principle of any objects), except that:
<ul>
<li>You can create one with an initial range of subscripts that do not necessarily begin at 0.  For example,
<code>Bivec b(-5,10,0);</code> would create a Bivec containing elements from [-5] to [10], all initialised to zero.
(There is no default for the initial value - you have to provide it explicitly.)
<li>You can push (and pop) from the front as well as from the back, eg <code>int x = b.pop_front();</code>
<li>The <code>pop</code> functions return values, unlike <code>pop_back()</code> for the standard vector.
<li>An attempt to pop an empty Bivec will result in an error message and termination of the program.
<li>An attempt to access a non-existent element of the Bivec will also result in an error message,
specifying the offending subscript, and program termination.
</ul>
<pre>
class Bivec
{ public:
	Bivec() {low = 0;}
	Bivec(int lo, int hi, int initial_value);
	void push_back(int);
	void push_front(int);
	int pop_back() throw (Pop_on_empty);
	int pop_front() throw (Pop_on_empty);
	int& operator[](int) throw (Out_of_bounds);
	void display() const;
	bool empty() const {return v.size() == 0; }

	Bivec(const Bivec& bx) { copy(bx); }
	~Bivec() { free(); }
	const Bivec& operator=(const Bivec&);
  private:
	vector&lt;int*&gt; v;
	int low;
	void copy(const Bivec&);
	void free();
};
</pre>

<p>
The vector <code>v</code> holds pointers to the elements stored in the Bivec.  For example, given the definition
<code>Bivec b(-5,10,0)</code>,
<code>v</code> would be of length 16, with <code>v[0]</code> pointing to element [-5] of the Bivec and <code>v[15]</code>
pointing to element [10] - see <a href="lab20page2.mht">illustration</a>. (Since the Bivec is here only storing integers,
there is
not much benefit in storing pointers in the vector rather than the integers themselves, but the same structure could
be used, to more obvious purpose, if the Bivec were adapted to store larger objects, as you will see in the next lab sheet.)

The variable <code>low</code> holds the lowest subscript - in the example just given it would hold -5.

<p>
Implement the functions for the Bivec class and write a <code>main</code> function (or use the one provided in bivec.cpp)
to test them. You should use
C++'s exception-handling mechanism for dealing with the errors.




</div>

</body>

</html>
